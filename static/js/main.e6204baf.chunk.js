(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{40:function(e,t,a){e.exports=a(76)},46:function(e,t,a){},47:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=(a(42),a(36)),l=a.n(c),s=(a(46),a(16)),i=a(7),o=(a(47),a(22)),m=a(12),d=a(13),u=a(18),p=a(14),h=a(19),g=a(17),E=a(15),f=a.n(E),y=a(37),v=a.n(y),N=function(e){return e.children},b=function(e){return n.a.createElement("header",{className:"my-3"},n.a.createElement("form",null,n.a.createElement("div",{className:"form-row align-items-center"},n.a.createElement("div",{className:"col-auto"},n.a.createElement("div",{className:"input-group"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"query"},n.a.createElement("i",{className:"fa fa-search"}))),n.a.createElement("input",{id:"query",className:"form-control",type:"text",onChange:e.changeQuery,placeholder:"Search By Ingredients or Name"}))),n.a.createElement("div",{className:"col-auto"},n.a.createElement("div",{className:"input-group"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"type-select"},"Sort By")),n.a.createElement("select",{id:"type-select",className:"custom-select",defaultValue:"r",onChange:e.changeSortType},n.a.createElement("option",{value:"t"},"Top-rated"),n.a.createElement("option",{value:"r"},"Trending")))),n.a.createElement("div",{className:"col-auto"},n.a.createElement("button",{onClick:e.loadRecipies,type:"submit",className:"btn btn-primary"},"Search")))))},w=function(e){return n.a.createElement("div",{className:"w-25 my-3"},n.a.createElement("div",{className:"card mx-3 h-100"},n.a.createElement("div",{style:{backgroundImage:"url(".concat(e.recipe.image_url,")")},className:"card-img"}),n.a.createElement("div",{className:"card-body"},n.a.createElement("h5",{className:"card-title",dangerouslySetInnerHTML:{__html:e.recipe.title}}),n.a.createElement("p",{className:"card-text"},e.recipe.publisher),n.a.createElement("p",{className:"card-text"},n.a.createElement("span",{className:"badge badge-info"},parseInt(e.recipe.social_rank)))),n.a.createElement("div",{className:"card-footer"},n.a.createElement(s.b,{className:"btn btn-primary",to:"/"+e.recipe.recipe_id},"More"))))},k="a3f3a101c4d2f57d92fb4bafdf252160",S=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={recipes:[],query:"",sortType:"r",page:1,error:!1,loading:!0,errorMessage:"",loadMore:!0},a.loader=n.a.createElement("div",{className:"d-flex w-100 justify-content-center",key:a.state.page},n.a.createElement(g.a,{size:300,loading:a.state.loading})),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"loadRecipies",value:function(e){var t=this;e&&(this.setState({recipes:[],page:1}),e.preventDefault()),this.state.loading||this.setState({loading:!0}),f.a.get("https://www.food2fork.com/api/search?key=".concat(k,"&q=").concat(this.state.query,"&sort=").concat(this.state.sortType,"&page").concat(this.state.page)).then(function(e){"limit"===e.data.error?t.setState({error:!0,errorMessage:"API Call limit reached",loading:!1,loadMore:!1}):e.data.recipes.length?t.setState({recipes:[].concat(Object(o.a)(t.state.recipes),Object(o.a)(e.data.recipes)),loading:!1,error:!1,page:t.state.page+1,loadMore:30===e.data.count}):t.setState({error:!0,errorMessage:"No recipes found",loading:!1,loadMore:!1})}).catch(function(e){return t.setState({error:!0,errorMessage:"Something went wrong"})})}},{key:"changeQueryHandler",value:function(e){this.setState({query:e.target.value})}},{key:"changeSortTypeHandler",value:function(e){this.setState({sortType:e.target.value})}},{key:"render",value:function(){var e=this,t=[];return this.state.recipes.length&&(t=this.state.recipes.map(function(e,t){return n.a.createElement(w,{recipe:e,key:t})})),n.a.createElement(N,null,n.a.createElement(b,{changeQuery:function(t){return e.changeQueryHandler(t)},changeSortType:function(t){return e.changeSortTypeHandler(t)},loadRecipies:function(t){return e.loadRecipies(t)}}),n.a.createElement("div",{style:{height:"100vh"}},n.a.createElement(v.a,{useWindow:!0,pageStart:0,loadMore:function(){return e.loadRecipies()},hasMore:this.state.loadMore,loader:this.loader},this.state.error?n.a.createElement("h1",null,this.state.errorMessage):n.a.createElement("div",{className:"d-flex flex-wrap"},t))))}}]),t}(r.Component),M=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={recipe:null,error:!1,errorMessage:"",loading:!0},a.loader=n.a.createElement("div",{className:"d-flex w-100 justify-content-center",key:a.state.page},n.a.createElement(g.a,{size:300,loading:a.state.loading})),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.a.get("https://www.food2fork.com/api/get?key=".concat(k,"&rId=").concat(this.props.match.params.id)).then(function(t){"limit"===t.data.error&&e.setState({error:!0,errorMessage:"API Call limit reached",loading:!1}),0===t.data.recipe.length?e.setState({errorMessage:"no recipe found",error:!0,loading:!1}):(t.data.recipe||t.data.recipe.length)&&e.setState({recipe:t.data.recipe,error:!1,loading:!1})}).catch(function(t){return e.setState({error:!0,errorMessage:"Something went wrong",loading:!1})})}},{key:"ingredientsList",value:function(){return this.state.recipe.ingredients.map(function(e,t){return n.a.createElement("li",{key:t,dangerouslySetInnerHTML:{__html:e}})})}},{key:"render",value:function(){var e=null;return this.state.loading&&(e=this.loader),this.state.recipe&&(e=n.a.createElement(N,null,n.a.createElement("div",{className:"w-25"},n.a.createElement("div",{className:"card mx-3"},n.a.createElement("div",{style:{backgroundImage:"url(".concat(this.state.recipe.image_url,")")},className:"card-img"}),n.a.createElement("div",{className:"card-body"},n.a.createElement("h5",{className:"card-title"},this.state.recipe.title)))),n.a.createElement("div",{className:"w-75"},n.a.createElement("div",{className:"card mx-3"},n.a.createElement("div",{className:"card-body"},n.a.createElement("h5",{className:"card-title"},"Recipe Info"),n.a.createElement("ul",{className:"list-group list-group-flush"},n.a.createElement("li",{className:"list-group-item"},n.a.createElement("h6",null,"Publisher"),this.state.recipe.publisher),n.a.createElement("li",{className:"list-group-item"},n.a.createElement("h6",null,"Rank"),n.a.createElement("span",{className:"badge badge-info"},parseInt(this.state.recipe.social_rank))),n.a.createElement("li",{className:"list-group-item"},n.a.createElement("h6",null,"Source"),n.a.createElement("a",{target:"_blank",rel:"noreferrer noopener",href:this.state.recipe.source_url},this.state.recipe.source_url)),n.a.createElement("li",{className:"list-group-item"},n.a.createElement("h6",null,"Ingredients"),n.a.createElement("ul",null,this.ingredientsList())))))))),n.a.createElement("div",{className:"d-flex my-3"},this.state.error?n.a.createElement("h1",null,this.state.errorMessage):e)}}]),t}(r.Component),x=function(){return n.a.createElement(s.a,null,n.a.createElement("div",{className:"container"},n.a.createElement(i.a,{path:"/",exact:!0,component:S}),n.a.createElement(i.a,{path:"/:id",exact:!0,component:M})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[40,1,2]]]);
//# sourceMappingURL=main.e6204baf.chunk.js.map